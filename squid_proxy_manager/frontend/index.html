<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Squid Proxy Manager</title>
    <script>
      (function () {
        const marker = '/api/hassio_ingress/';
        const path = window.location.pathname;
        if (path.includes(marker) && !path.endsWith('/')) {
          window.location.replace(`${path}/${window.location.search}${window.location.hash}`);
        }
      })();
    </script>
    <script>
      // Handle both production (replaced by backend) and mock mode (dev server)
      window.__SUPERVISOR_TOKEN__ = typeof __SUPERVISOR_TOKEN_VALUE__ !== 'undefined' 
        ? __SUPERVISOR_TOKEN_VALUE__ 
        : '';
      window.__APP_VERSION__ = typeof __APP_VERSION_VALUE__ !== 'undefined'
        ? __APP_VERSION_VALUE__
        : '1.4.7-dev';
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
